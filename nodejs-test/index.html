<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        h5 {
            color: red;
        }
    </style>
</head>

<body>
    <h5>您的账户余额是：<span id="amount">&&&amount&&&</span></h5>
    <button id="button">打钱</button>
    <script>
        button.addEventListener('click',(e)=>{
        let script = document.createElement('script') 
        script.src = '/pay'
        document.body.appendChild(script)
        script.onload = function(e){
            e.currentTarget.remove()
        }
        script.onerror = function(){
            alert('打钱失败')
            e.currentTarget.remove()
        }
    })
   
   









        //       let image = document.createElement('img')
        //       image.src = '/pay'
        //       image.onload = function(){
        //           alert('打钱成功')
        //           amount.innerText=amount.innerText - 1
        //       }
        //       image.onerror = function(){
        //           alert('打钱失败')
        //       }
        //   })


        // button.addEventListener('click', (e) => {
        //     let n = amount.innerText
        //     let number = parseInt(n, 10)
        //     let nuwNumber = number - 1
        //     amount.innerText = nuwNumber
        // })
    </script>
    <script src="/server.js"></script>
</body>

</html>